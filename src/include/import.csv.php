<?phprequire_once "import.del.php";class ImportCsv extends ImportDel{    public function __construct($file_lines, $delims = [";", ",", "\t"], $quotes = ['"', "'"])    {        $test_line = $file_lines[0];        //        // Detect the most probable delimiter.        //        $delim = $this->maxChar($delims, $test_line);        $quote = $this->maxChar($quotes, $test_line);        //        // Re-Conncat the file-lines        //        $input = implode("\n", $file_lines) . "\n";        //        // Setup and run the parser        //        include "lib/parsecsv.lib.php";        $csv = new parseCSV();        $csv->delimiter = $delim;        $csv->enclosure = $quote;        $csv->file_data = &$input;        $this->data = $csv->parse_string();        //        // Convert the array to addresses        //        $this->convertToAddresses();    }    private function maxChar($chars, $testString): string    {        $max_count = 0;        $the_char = (count($chars) > 0 ? $chars[0] : " ");        foreach ($chars as $char) {            $new_count = substr_count($testString, $char);            if ($new_count > $max_count) {                $max_count = $new_count;                $the_char = $char;            }        }        return $the_char;    }}